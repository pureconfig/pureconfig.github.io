<!DOCTYPE html><html><head><title>PureConfig: Non-Automatic Derivation</title><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="com.github.pureconfig" /><meta name="description" content="A boilerplate-free library for loading configuration files" /><meta name="og:image" content="/v0.17.0/img/poster.png" /><meta name="image" property="og:image" content="/v0.17.0/img/poster.png" /><meta name="og:title" content="PureConfig: Non-Automatic Derivation" /><meta name="title" property="og:title" content="PureConfig: Non-Automatic Derivation" /><meta name="og:site_name" content="PureConfig" /><meta name="og:url" content="https://pureconfig.github.io/" /><meta name="og:type" content="website" /><meta name="og:description" content="A boilerplate-free library for loading configuration files" /><link rel="icon" type="image/png" href="/v0.17.0/img/favicon.png" /><meta name="twitter:title" content="PureConfig: Non-Automatic Derivation" /><meta name="twitter:image" content="/v0.17.0/img/poster.png" /><meta name="twitter:description" content="A boilerplate-free library for loading configuration files" /><meta name="twitter:card" content="summary_large_image" /><link rel="icon" type="image/png" sizes="16x16" href="/v0.17.0/img/favicon16x16.png" /><link rel="icon" type="image/png" sizes="24x24" href="/v0.17.0/img/favicon24x24.png" /><link rel="icon" type="image/png" sizes="32x32" href="/v0.17.0/img/favicon32x32.png" /><link rel="icon" type="image/png" sizes="48x48" href="/v0.17.0/img/favicon48x48.png" /><link rel="icon" type="image/png" sizes="57x57" href="/v0.17.0/img/favicon57x57.png" /><link rel="icon" type="image/png" sizes="60x60" href="/v0.17.0/img/favicon60x60.png" /><link rel="icon" type="image/png" sizes="64x64" href="/v0.17.0/img/favicon64x64.png" /><link rel="icon" type="image/png" sizes="70x70" href="/v0.17.0/img/favicon70x70.png" /><link rel="icon" type="image/png" sizes="72x72" href="/v0.17.0/img/favicon72x72.png" /><link rel="icon" type="image/png" sizes="76x76" href="/v0.17.0/img/favicon76x76.png" /><link rel="icon" type="image/png" sizes="96x96" href="/v0.17.0/img/favicon96x96.png" /><link rel="icon" type="image/png" sizes="114x114" href="/v0.17.0/img/favicon114x114.png" /><link rel="icon" type="image/png" sizes="120x120" href="/v0.17.0/img/favicon120x120.png" /><link rel="icon" type="image/png" sizes="128x128" href="/v0.17.0/img/favicon128x128.png" /><link rel="icon" type="image/png" sizes="144x144" href="/v0.17.0/img/favicon144x144.png" /><link rel="icon" type="image/png" sizes="150x150" href="/v0.17.0/img/favicon150x150.png" /><link rel="icon" type="image/png" sizes="152x152" href="/v0.17.0/img/favicon152x152.png" /><link rel="icon" type="image/png" sizes="196x196" href="/v0.17.0/img/favicon196x196.png" /><link rel="icon" type="image/png" sizes="310x310" href="/v0.17.0/img/favicon310x310.png" /><link rel="icon" type="image/png" sizes="310x150" href="/v0.17.0/img/favicon310x150.png" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" /><link rel="stylesheet" href="/v0.17.0/highlight/styles/default.css" /><link rel="stylesheet" href="/v0.17.0/css/pattern-style.css" /><link rel="stylesheet" href="/v0.17.0/css/custom.css" /></head><body class="docs"><div id="wrapper"><div id="sidebar-wrapper"><ul id="sidebar" class="sidebar-nav"><li class="sidebar-brand"><a href="/v0.17.0/" class="brand"><div class="brand-wrapper"><span>PureConfig</span></div></a></li> <li><a href="/v0.17.0/docs/index.html" class="">Quick Start</a></li> <li><a href="/v0.17.0/docs/loading-a-config.html" class="">Loading a Config</a></li> <li><a href="/v0.17.0/docs/built-in-supported-types.html" class="">Built-in Supported Types</a></li> <li><a href="/v0.17.0/docs/supporting-new-types.html" class="">Supporting New Types</a> <ul class="sub-section"> <li><a href="/v0.17.0/docs/combinators.html" class="">Combinators</a></li> <li><a href="/v0.17.0/docs/config-cursors.html" class="">Config Cursors</a></li> <li><a href="/v0.17.0/docs/complex-types.html" class="">Complex Types</a></li></ul></li> <li><a href="/v0.17.0/docs/overriding-behavior-for-types.html" class="">Overriding Behavior for Types</a> <ul class="sub-section"> <li><a href="/v0.17.0/docs/overriding-behavior-for-case-classes.html" class="">Case Classes</a></li> <li><a href="/v0.17.0/docs/overriding-behavior-for-sealed-families.html" class="">Sealed Families</a></li></ul></li> <li><a href="/v0.17.0/docs/configurable-converters.html" class="">Configurable Converters</a></li> <li><a href="/v0.17.0/docs/error-handling.html" class="">Error Handling</a></li> <li><a href="/v0.17.0/docs/config-writers.html" class="">Config Writers</a></li> <li><a href="/v0.17.0/docs/non-automatic-derivation.html" class=" active ">Non-Automatic Derivation</a></li> <li><a href="/v0.17.0/docs/scala-3-derivation.html" class="">Scala 3 Derivation</a></li> <li><a href="/v0.17.0/docs/library-integrations.html" class="">Library Integrations</a></li> <li><a href="/v0.17.0/docs/faq.html" class="">FAQ</a></li></ul></div><div id="page-content-wrapper"><div class="nav"><div class="container-fluid"><div class="row"><div class="col-lg-12"><div class="action-menu pull-left clearfix"><a href="#menu-toggle" id="menu-toggle"><i class="fa fa-bars" aria-hidden="true"></i></a></div><ul class="pull-right"><li class="search-nav hidden-xs hidden-sm"><div id="search-dropdown"><label><i class="fa fa-search"></i>Search</label><input id="search-bar" type="text" placeholder="Enter keywords here..." onclick="displayToggleSearch(event)" /><ul id="search-dropdown-content" class="dropdown dropdown-content"></ul></div></li><li id="gh-eyes-item" class="hidden-xs to-uppercase"><a href="https://github.com/pureconfig/pureconfig" target="_blank" rel="noopener noreferrer"><i class="fa fa-eye"></i><span>Watchers<span id="eyes" class="label label-default">--</span></span></a></li><li id="gh-stars-item" class="hidden-xs to-uppercase"><a href="https://github.com/pureconfig/pureconfig" target="_blank" rel="noopener noreferrer"><i class="fa fa-star-o"></i><span>Stars<span id="stars" class="label label-default">--</span></span></a></li><li><a href="#" onclick="shareSiteTwitter('PureConfig A boilerplate-free library for loading configuration files');"><i class="fa fa-twitter"></i></a></li><li><a href="#" onclick="shareSiteFacebook('PureConfig A boilerplate-free library for loading configuration files');"><i class="fa fa-facebook"></i></a></li></ul></div></div></div></div><div id="content" data-github-owner="pureconfig" data-github-repo="pureconfig"><div class="content-wrapper"><section><h2 id="non-automatic-derivation">Non-Automatic Derivation</h2>

<p>All the examples in the documentation rely on automatic derivation of readers and writers for case classes and sealed
traits. That is the recommended way of using PureConfig, in line with its core goal of providing a boilerplate-free but
still type-safe way of handling config files.</p>

<p>However, some users may prefer to declare explicitly their intention to derive readers for a type, some advanced users
may have their own ways of deriving readers and some may not want to use derivation at all. PureConfig actually provides
three ways of setting up reader derivation, which are presented in the next sections.</p>

<h3 id="automatic">Automatic</h3>

<p>First, letâ€™s define an example case class and a config for us to load:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">com.typesafe.config.ConfigFactory</span>
<span class="k">import</span> <span class="nn">pureconfig._</span>

<span class="k">case</span> <span class="k">class</span> <span class="nc">Person</span><span class="o">(</span><span class="n">name</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span> <span class="n">surname</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span>

<span class="k">val</span> <span class="nv">conf</span> <span class="k">=</span> <span class="nv">ConfigFactory</span><span class="o">.</span><span class="py">parseString</span><span class="o">(</span><span class="s">"{ name: John, surname: Doe }"</span><span class="o">)</span>
</code></pre></div></div>

<p>Automatic reader derivation is used throughout all the documentation pages. It is activated simply by importing
<code class="language-plaintext highlighter-rouge">pureconfig.generic.auto._</code> everywhere readers are needed (for example, where <code class="language-plaintext highlighter-rouge">ConfigSource#load</code> is used):</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">pureconfig.generic.auto._</span>
</code></pre></div></div>

<p>This import provides <code class="language-plaintext highlighter-rouge">ConfigReader</code> instances for all supported classes out-of-the-box:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">ConfigSource</span><span class="o">.</span><span class="py">fromConfig</span><span class="o">(</span><span class="n">conf</span><span class="o">).</span><span class="py">load</span><span class="o">[</span><span class="kt">Person</span><span class="o">]</span>
<span class="c1">// res0: ConfigReader.Result[Person] = Right(Person("John", "Doe"))</span>
</code></pre></div></div>

<p>Internally, derivation is made through the use of <a href="https://github.com/milessabin/shapeless">shapeless</a>, a generic
programming Scala library.</p>

<p>Custom readers can still be placed in the companion object of the respective classes; PureConfig will make sure that
they are used instead of the automatically-derived ones.</p>

<h3 id="semi-automatic">Semi-Automatic</h3>

<p>With semi-automatic derivation, readers can still be derived using all the machinery presented on these documentation
pages, but the reader instances are not provided as implicits. Instead, PureConfig provides two one-liner methods to
create derived instances, which you must put somewhere on the implicit scope.</p>

<p>Semi-automatic derivation is enabled by importing <code class="language-plaintext highlighter-rouge">pureconfig.generic.semiauto._</code>. We can now explicitly define the
reader for <code class="language-plaintext highlighter-rouge">Person</code> by calling <code class="language-plaintext highlighter-rouge">deriveReader</code>:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">pureconfig.generic.semiauto._</span>

<span class="k">implicit</span> <span class="k">val</span> <span class="nv">personReader</span> <span class="k">=</span> <span class="n">deriveReader</span><span class="o">[</span><span class="kt">Person</span><span class="o">]</span>
</code></pre></div></div>

<p>We are now ready to read <code class="language-plaintext highlighter-rouge">Person</code> configs:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">ConfigSource</span><span class="o">.</span><span class="py">fromConfig</span><span class="o">(</span><span class="n">conf</span><span class="o">).</span><span class="py">load</span><span class="o">[</span><span class="kt">Person</span><span class="o">]</span>
<span class="c1">// res2: ConfigReader.Result[Person] = Right(Person("John", "Doe"))</span>
</code></pre></div></div>

<h4 id="semi-automatic-for-sealed-families">Semi-Automatic for Sealed Families</h4>

<p>To support a sealed family with semi-automatic derivation, youâ€™ll need to provide a derivation for every concrete member
of the family and the base of the family.</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">sealed</span> <span class="k">trait</span> <span class="nc">Occupation</span> <span class="k">extends</span> <span class="nc">Product</span> <span class="k">with</span> <span class="nc">Serializable</span>

<span class="k">object</span> <span class="nc">Occupation</span> <span class="o">{</span>
  <span class="k">case</span> <span class="k">class</span> <span class="nc">Employed</span><span class="o">(</span><span class="n">job</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span> <span class="k">extends</span> <span class="nc">Occupation</span>
  <span class="k">object</span> <span class="nc">Employed</span> <span class="o">{</span>
    <span class="k">implicit</span> <span class="k">val</span> <span class="nv">employedReader</span> <span class="k">=</span> <span class="n">deriveReader</span><span class="o">[</span><span class="kt">Employed</span><span class="o">]</span>
  <span class="o">}</span>
  <span class="k">case</span> <span class="k">object</span> <span class="nc">Unemployed</span> <span class="k">extends</span> <span class="nc">Occupation</span> <span class="o">{</span>
    <span class="k">implicit</span> <span class="k">val</span> <span class="nv">unemployedReader</span> <span class="k">=</span> <span class="n">deriveReader</span><span class="o">[</span><span class="kt">Unemployed.</span><span class="k">type</span><span class="o">]</span>
  <span class="o">}</span>
  <span class="k">case</span> <span class="k">object</span> <span class="nc">Student</span> <span class="k">extends</span> <span class="nc">Occupation</span> <span class="o">{</span>
    <span class="k">implicit</span> <span class="k">val</span> <span class="nv">studentReader</span> <span class="k">=</span> <span class="n">deriveReader</span><span class="o">[</span><span class="kt">Student.</span><span class="k">type</span><span class="o">]</span>
  <span class="o">}</span>
  <span class="k">implicit</span> <span class="k">val</span> <span class="nv">occupationReader</span> <span class="k">=</span> <span class="n">deriveReader</span><span class="o">[</span><span class="kt">Occupation</span><span class="o">]</span>
<span class="o">}</span>

<span class="k">case</span> <span class="k">class</span> <span class="nc">WorkingPerson</span><span class="o">(</span><span class="n">name</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span> <span class="n">surname</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span> <span class="n">occupation</span><span class="k">:</span> <span class="kt">Occupation</span><span class="o">)</span>

<span class="k">object</span> <span class="nc">WorkingPerson</span> <span class="o">{</span>
  <span class="k">implicit</span> <span class="k">val</span> <span class="nv">workingPersonReader</span> <span class="k">=</span> <span class="n">deriveReader</span><span class="o">[</span><span class="kt">WorkingPerson</span><span class="o">]</span>
<span class="o">}</span>
</code></pre></div></div>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">ConfigSource</span><span class="o">.</span><span class="py">string</span><span class="o">(</span><span class="s">"{ name: Isaac, surname: Newton, occupation.type: student }"</span><span class="o">).</span><span class="py">load</span><span class="o">[</span><span class="kt">WorkingPerson</span><span class="o">]</span>
<span class="c1">// res3: ConfigReader.Result[WorkingPerson] = Right(</span>
<span class="c1">//   WorkingPerson("Isaac", "Newton", Student)</span>
<span class="c1">// )</span>
<span class="nv">ConfigSource</span><span class="o">.</span><span class="py">string</span><span class="o">(</span><span class="s">"""{ name: David, surname: Shingy, occupation: { type: employed, job: Digital Prophet } }"""</span><span class="o">).</span><span class="py">load</span><span class="o">[</span><span class="kt">WorkingPerson</span><span class="o">]</span>
<span class="c1">// res4: ConfigReader.Result[WorkingPerson] = Right(</span>
<span class="c1">//   WorkingPerson("David", "Shingy", Employed("Digital Prophet"))</span>
<span class="c1">// )</span>
</code></pre></div></div>

<h3 id="manual">Manual</h3>

<p>When case class and sealed trait derivation is not needed or wanted, we can simply not import anything and define our
reader using any of ways explained in <a href="supporting-new-types.html">Supporting New Types</a>. The <code class="language-plaintext highlighter-rouge">forProductN</code> helper
methods are convenient for creating readers and writers for case class-like types without generic derivation:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">pureconfig._</span>

<span class="k">implicit</span> <span class="k">val</span> <span class="nv">personReader</span> <span class="k">=</span> <span class="nv">ConfigReader</span><span class="o">.</span><span class="py">forProduct2</span><span class="o">(</span><span class="s">"name"</span><span class="o">,</span> <span class="s">"surname"</span><span class="o">)(</span><span class="nc">Person</span><span class="o">(</span><span class="k">_</span><span class="o">,</span> <span class="k">_</span><span class="o">))</span>
</code></pre></div></div>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">ConfigSource</span><span class="o">.</span><span class="py">fromConfig</span><span class="o">(</span><span class="n">conf</span><span class="o">).</span><span class="py">load</span><span class="o">[</span><span class="kt">Person</span><span class="o">]</span>
<span class="c1">// res6: ConfigReader.Result[Person] = Right(Person("John", "Doe"))</span>
</code></pre></div></div>

<p>If you donâ€™t need reader or writer derivation anywhere in your project, you can replace the <code class="language-plaintext highlighter-rouge">pureconfig</code> Maven
dependency with <code class="language-plaintext highlighter-rouge">pureconfig-core</code>. <code class="language-plaintext highlighter-rouge">pureconfig-core</code> contains only the core classes needed by PureConfig, as well as
readers and writers for primitive and collection types. It has the advantage of not depending on shapeless, which can be
useful to prevent version conflicts.</p>
</section></div></div></div></div><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script><script src="/v0.17.0/highlight/highlight.pack.js"></script><script src="/v0.17.0/lunr/lunr.js"></script><script>
// For all code blocks, copy the language from the containing div
// to the inner code tag (where hljs expects it to be)
const langPrefix = 'language-';
document.querySelectorAll(`div[class^='${langPrefix}']`).forEach(function(div) {
  div.classList.forEach(function(cssClass) {
    if (cssClass.startsWith(langPrefix)) {
      const lang = cssClass.substring(langPrefix.length);
      div.querySelectorAll('pre code').forEach(function(code) {
        code.classList.add(lang);
      });
    }
  });
});

hljs.configure({languages:['scala','java','bash']});
hljs.initHighlightingOnLoad();
      </script><script>console.info('\x57\x65\x62\x73\x69\x74\x65\x20\x62\x75\x69\x6c\x74\x20\x77\x69\x74\x68\x3a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x5f\x5f\x20\x20\x20\x20\x5f\x5f\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x5f\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x5f\x20\x5f\x5f\x0a\x20\x20\x20\x5f\x5f\x5f\x5f\x5f\x2f\x20\x2f\x5f\x20\x20\x2f\x20\x2f\x5f\x20\x20\x20\x20\x20\x20\x5f\x5f\x5f\x5f\x20\x5f\x5f\x5f\x20\x20\x28\x5f\x29\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x20\x20\x5f\x5f\x5f\x5f\x5f\x28\x5f\x29\x20\x2f\x5f\x5f\x5f\x5f\x20\x20\x5f\x5f\x5f\x5f\x5f\x0a\x20\x20\x2f\x20\x5f\x5f\x5f\x2f\x20\x5f\x5f\x20\x5c\x2f\x20\x5f\x5f\x2f\x5f\x5f\x5f\x5f\x5f\x2f\x20\x5f\x5f\x20\x60\x5f\x5f\x20\x5c\x2f\x20\x2f\x20\x5f\x5f\x5f\x2f\x20\x5f\x5f\x5f\x2f\x20\x5f\x5f\x20\x5c\x2f\x20\x5f\x5f\x5f\x2f\x20\x2f\x20\x5f\x5f\x2f\x20\x5f\x20\x5c\x2f\x20\x5f\x5f\x5f\x2f\x0a\x20\x28\x5f\x5f\x20\x20\x29\x20\x2f\x5f\x2f\x20\x2f\x20\x2f\x5f\x2f\x5f\x5f\x5f\x5f\x5f\x2f\x20\x2f\x20\x2f\x20\x2f\x20\x2f\x20\x2f\x20\x2f\x20\x2f\x5f\x5f\x2f\x20\x2f\x20\x20\x2f\x20\x2f\x5f\x2f\x20\x28\x5f\x5f\x20\x20\x29\x20\x2f\x20\x2f\x5f\x2f\x20\x20\x5f\x5f\x28\x5f\x5f\x20\x20\x29\x0a\x2f\x5f\x5f\x5f\x5f\x2f\x5f\x2e\x5f\x5f\x5f\x2f\x5c\x5f\x5f\x2f\x20\x20\x20\x20\x20\x2f\x5f\x2f\x20\x2f\x5f\x2f\x20\x2f\x5f\x2f\x5f\x2f\x5c\x5f\x5f\x5f\x2f\x5f\x2f\x20\x20\x20\x5c\x5f\x5f\x5f\x5f\x2f\x5f\x5f\x5f\x5f\x2f\x5f\x2f\x5c\x5f\x5f\x2f\x5c\x5f\x5f\x5f\x2f\x5f\x5f\x5f\x5f\x2f\x0a\x0a\x68\x74\x74\x70\x73\x3a\x2f\x2f\x34\x37\x64\x65\x67\x2e\x67\x69\x74\x68\x75\x62\x2e\x69\x6f\x2f\x73\x62\x74\x2d\x6d\x69\x63\x72\x6f\x73\x69\x74\x65\x73')</script><script src="/v0.17.0/js/search.js"></script><script src="/v0.17.0/js/main.js"></script></body></html>